
<!-- The controller function will load on this block -->
<!-- 'ng-init' stands for initialization of angular controller functions-->
<div  class="margins" ng-init="myMainController.showMainPage()" ng-controller="mainController">
   <!-- Carousel START -->
   <div id="myCarousel" class="carousel slide margins" data-ride="carousel">
      <!-- Indicators -->
      <ol class="carousel-indicators">
         <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
         <li data-target="#myCarousel" data-slide-to="1"></li>
         <li data-target="#myCarousel" data-slide-to="2"></li>
      </ol>

      <!-- Wrapper for slides -->
      <div class="carousel-inner">
         <div class="item active">
             <img src="assets/images/photoOne.jpg" alt="Los Angeles" style="width:100%; height:50%;">
         </div>
         <div class="item">
             <img src="assets/images/photoTwo.jpg" alt="Chicago" style="width:100%;">
         </div>
         <div class="item">
             <img src="assets/images/photoThree.jpg" alt="New york" style="width:100%;">
         </div>
      </div>

      <!-- Left and right controls -->
      <a class="left carousel-control" href="/#myCarousel" data-slide="prev">
         <span class="glyphicon glyphicon-chevron-left"></span>
         <span class="sr-only">Previous</span>
      </a>

      <a class="right carousel-control" href="/#myCarousel" data-slide="next">
         <span class="glyphicon glyphicon-chevron-right"></span>
         <span class="sr-only">Next</span>
      </a>

   </div>
   <!-- Carousel END -->

   <div class="container-fluid margins" style="display:inline">
       <!-- Fixed filter block on the left START-->
       <!-- 'set-class-at-top' is the directive to fix the block on the top when user scrolls the window and the block reaches the top -->
       <!-- 'fix-to-top' is class which is set to the block when it reaches the top of the window -->
       <div class="filtersBlock" set-class-when-at-top="fix-to-top">

           <!-- Title one block START -->
           <div class="filterTitle">
              <h4>
                <i class="fa fa-filter" aria-hidden="true"></i>
                <!-- Title -->
                <span> Filters</span>
                <!-- Reload button -->
                <span style="float:right; margin-top:1.5%; margin-right:4%;">
                    <a href="#/" ng-click="reloadRoute()">
                      <i class="fa fa-refresh" aria-hidden="true"></i>
                    </a>
                </span>
              </h4>
            </div>
            <!-- Title one block END -->

            <!-- Title two block START -->
            <div class="filterTitle2">
               <i class="fa fa-bars" aria-hidden="true"></i>&nbsp
               <span>CATEGORIES</span>
            </div>
            <!-- Title two block END -->

            <!-- Secondary filters block START -->
            <div class="otherFilters">

               <!-- Characters Dropdown -->
               <h5>
                 &nbsp <i class="fa fa-spinner" aria-hidden="true"></i> &nbsp &nbsp Characters
               </h5>
               <p class="text-center">
                  <select ng-model="characterModel"  style="width:200px; ">
                      <option value="" disabled>--Select Character--</option>
                      <option ng-repeat="character in myMainController.characters track by $index" value="{{character}}" >{{character}}</option>
                  </select>
               </p>

               <!-- Book's ISBN Dropdown -->
               <!-- This block is hidden initially -->
               <div class="margins" ng-show="ISBNDropdown">
                   <h5>
                      &nbsp <i class="fa fa-spinner" aria-hidden="true"></i> &nbsp &nbsp Books ISBN
                   </h5>
                   <p class="text-center isbn" >
                       <select ng-model="booksISBNModel"  style="width:200px; ">
                           <option value="" disabled>--Select ISBN--</option>
                           <option ng-repeat="isbn in myMainController.booksISBN" value="{{isbn}}" >{{isbn}}</option>
                       </select>
                   </p>
                </div>
                <!-- Character gender dropdown -->
                <!-- This block is hidden initially -->
                <div class="margins" ng-show="genderDropdown">
                    <h5>
                       &nbsp <i class="fa fa-spinner" aria-hidden="true"></i> &nbsp &nbsp Characters Gender
                    </h5>
                    <p class="text-center" >
                       <select ng-model="charactersGenderModel"  style="width:200px; ">
                           <option value="" disabled>--Select Gender--</option>
                           <option ng-repeat="gender in myMainController.charactersGender" value="{{gender}}" >{{gender}}</option>
                       </select>
                     </p>
                 </div>

                 <!-- Houses Dropdown -->
                 <h5>
                    &nbsp <i class="fa fa-spinner" aria-hidden="true"></i> &nbsp &nbsp Houses
                 </h5>
                 <p class="text-center">
                     <select ng-model="houseModel"  style="width:200px; ">
                          <option value="" disabled>--Select House--</option>
                          <option ng-repeat="house in myMainController.houses" value="{{house}}" >{{house}}</option>
                     </select>
                 </p>

             </div>
             <!-- Secondary filters block END -->

             <!-- This button is triggered on the function call where the sub-blocks initially set to hidden are set to visbible on the click -->
             <p class="text-center">
                <a ng-click="showMore()" type="button" class="btn showMore" ng-show="showMoreButton"> Show More </a>
             </p>

        </div>
        <!-- Fixed filter block on the left END-->

        <div class="row repeatingDataBlock margins text-center">
            <!-- Primary filters block START -->
            <div class="margins col-sm-12 col-md-12 secondaryFiltersBlock">

                <!-- Primary dropdowns START -->
                <div class="col col-xs-12 col-sm-12 col-md-12 margins">

                    <!-- Seacrh input to seacrh data across all the elements in the array of ng-repeat -->
                    <div class="col col-xs-3 col-sm-3 com-md-3" style=" padding:1.85%; ">
                         <i class="fa fa-search" aria-hidden="true"></i> &nbsp
                         <input type="text" id="searchAllBlock" ng-model="allModel" ng-change="changedModel = allModel" name="searchAll" placeholder=" Search All..">
                    </div>

                    <!-- Authors dropdown -->
                    <div class="col col-xs-3 col-sm-3 com-md-3"  style="padding:2%; border-right: 7px solid #C4C4C4; border-bottom:5px solid #C4C4C4 !important; border-left:7px solid #C4C4C4 !important;">
                         <select class="selectAuthorDropdown" ng-model="authorModel"  style="width:150px; ">
                              <option value="" disabled>--Select Author--</option>
                              <option ng-repeat="author in myMainController.authors" value="{{author}}" >{{author}}</option>
                         </select>
                    </div>

                    <!-- Books dropdown -->
                    <div class="col col-xs-3 col-sm-3 col-md-3"  style="padding:2%; border-bottom:5px solid #C4C4C4 !important; border-right: 7px solid #C4C4C4;">
                         <select ng-model="bookModel" style="width:150px;">
                              <option value="" disabled>--Select Book--</option>
                              <option ng-repeat="book in myMainController.books" value="{{book}}" >{{book}}</option>
                         </select>
                    </div>

                    <!-- Alphabetical sort buttons -->
                    <!-- According to the click events on the button, the data is sorted/ordered -->
                    <div class="col col-xs-3 col-sm-3 col-md-3" style="padding:0 !important;">
                         <button type="button" ng-show="ascendingButton" ng-click="changeToAscendingOrder()" class="btn sortButton" name="button">
                              <span style="float:left;">Sort</span>
                              <i class="fa fa-long-arrow-down fa-2x" aria-hidden="true" style="float:right;"></i>
                         </button>
                         <button type="button"ng-show="descendingButton" ng-click="changeToDescendingOrder()" class="btn sortButton" name="button">
                              <span style="float:left;">Sort</span>
                              <i class="fa fa-long-arrow-up fa-2x" aria-hidden="true" style="float:right;"></i>
                         </button>
                     </div>

                 </div>
                 <!-- Primary dropdowns END -->

                 <!-- Primary buttons START -->
                 <div class="col col-xs-12 col-md-12 col-sm-12 selectToDisplay" >

                     <!-- All toggle button -->
                     <div class="col col-xs-3 col-sm-3 col-md-3">
                          <a type="button" ng-click="toggleAll()" class="btn"><i class="fa fa-globe" aria-hidden="true"></i> &nbsp All</a>
                     </div>
                     <!-- Books toggle button -->
                     <div class="col col-xs-3 col-sm-3 col-md-3">
                          <a type="button" ng-click="toggleBooks()" class="btn"><i class="fa fa-book" aria-hidden="true"></i> &nbsp Books</a>
                     </div>
                     <!-- Characters toggle button -->
                     <div class="col col-xs-3 col-sm-3 col-md-3">
                          <a type="button" ng-click="toggleCharacters()" class="btn"><i class="fa fa-users" aria-hidden="true"></i>&nbsp Characters</a>
                     </div>
                     <!-- Houses toggle button -->
                     <div class="col col-xs-3 col-sm-3 col-md-3">
                          <a type="button" ng-click="toggleHouses()" class="btn"><i class="fa fa-home" aria-hidden="true"></i>&nbsp Houses</a>
                     </div>
                     <div class="col col-xs-3 col-sm-3 col-md-3">
                     </div>

                  </div>
                  <!-- Primary buttons END -->

               </div>
               <!-- Primary filters block END -->

               <div class="mainRepeatBlock col col-xs-12 col-sm-12 col-md-12 margins" style="padding:0 !important;">
                  <!-- Custom directives block START-->
                  <div class="col col-sm-12 col-md-6 margins"  style="padding:0 !important;" ng-repeat="combinedData in myMainController.allData | orderBy: alterOrder | filter:authorModel | filter:characterModel | filter:houseModel | filter:charactersGenderModel | filter: booksISBNModel |filter:bookModel | filter:changedModel track by $index">

                       <!-- Custom directive for books -->
                       <!-- Note: here, ng-show decides what to show according to the primary filter button's click and -->
                       <!-- ng-if determines whether to show the block or not according to the given condition -->
                       <!-- Please follow the camel case approach to declare the directive's name in the html file -->
                       <!-- ie: directive 'mySubDirective' is to be used at 'my-sub-directive' in the html -->
                       <books-card ng-show="booksShowOrHide" ng-if="combinedData.isbn"> </books-card>
                       <!-- Custom directive for characters -->
                       <characters-card ng-show="charactersShowOrHide" ng-if="combinedData.gender"> </characters-card>
                       <!-- Custom directive for houses -->
                       <houses-card ng-show="housesShowOrHide" ng-if="combinedData.region"></houses-card>

                  </div>
                  <!-- Custom directive block END -->
                  <!-- Info block START -->
                  <div class="container-fluid infoBlock" ng-show="infoBlockShowOrHide" style="padding-bottom:15% !important;">
                       <img src="assets/images/find.png" alt="find">
                            <p class="text-center information">
                                Please select from the buttons above to see the result. <br>
                                You can also use filter upon the result to get the data.
                            </p>
                  </div>
                  <!-- Info block END -->
                </div>
       </div>
     </div>
</div>
